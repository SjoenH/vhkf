{"version":3,"sources":["../../src/pages/edit-concert/edit-concert.ts","../../src/pages/add-concert/add-concert.ts","../../src/pages/concerts/concerts.ts","../../src/pages/tickets/tickets.ts","../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/tabs/tabs.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/providers/auth-service/auth-service.ts","../../src/providers/concerts/concerts.ts","../../src/pages/concert-detail/concert-detail.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import {Component} from '@angular/core';\nimport {IonicPage, NavParams, ViewController} from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-edit-concert',\n  templateUrl: 'edit-concert.html',\n})\nexport class EditConcertPage {\n  concert: any;\n\n  title: any;\n  description: any;\n  location: any;\n  datetime: Date;\n  totalNumberOfTickets: any;\n  imgURL: any;\n\n  constructor(public navParams: NavParams, public viewCtrl: ViewController) {\n    let concert = navParams.get('concert');\n    this.concert = concert;\n    console.log(concert._id);\n\n    this.title = concert.title;\n    this.description = concert.description;\n    this.location = concert.location;\n    this.datetime = concert.datetime;\n    this.totalNumberOfTickets = concert.totalNumberOfTickets;\n    this.imgURL = concert.imgURL;\n  }\n\n  save(): void {\n    console.log(\"Saving changes\");\n\n    let concert = {\n      _id: this.concert._id,\n      title: this.title,\n      description: this.description,\n      totalNumberOfTickets: this.totalNumberOfTickets,\n      datetime: this.datetime,\n      imgURL: this.imgURL,\n      location: this.location\n    };\n    this.viewCtrl.dismiss(concert);\n  }\n\n  close(): void {\n    console.log(\"no changes\");\n    this.viewCtrl.dismiss();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/edit-concert/edit-concert.ts","import {Component} from '@angular/core';\nimport {IonicPage, ViewController} from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-add-concert',\n  templateUrl: 'add-concert.html',\n})\nexport class AddConcertPage {\n  title: any = \"\";\n  description: any = \"\";\n  location: any = \"\";\n  datetime: Date;\n  totalNumberOfTickets: any = 0;\n  imgURL: any;\n\n  constructor(public viewCtrl: ViewController) {\n\n  }\n\n  save(): void {\n    if (!this.imgURL) this.imgURL = \"http://via.placeholder.com/350x250\";\n    let concert = {\n      title: this.title,\n      description: this.description,\n      totalNumberOfTickets: this.totalNumberOfTickets,\n      datetime: this.datetime,\n      imgURL: this.imgURL,\n      location: this.location\n    };\n    this.viewCtrl.dismiss(concert);\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/add-concert/add-concert.ts","import {Component, ViewChild} from '@angular/core';\nimport {AlertController, IonicPage, ModalController, Slides} from 'ionic-angular';\nimport {Storage} from '@ionic/storage';\nimport {ConcertDetailPage} from '../concert-detail/concert-detail';\nimport {AddConcertPage} from '../add-concert/add-concert';\nimport {ConcertsProvider} from '../../providers/concerts/concerts';\n\n@IonicPage()\n@Component({\n  selector: 'page-concerts',\n  templateUrl: 'concerts.html',\n})\nexport class ConcertsPage {\n  @ViewChild(Slides) slides: Slides;\n  loading: boolean = true;\n  concerts: any;\n  user: any = {firstTime: true};\n\n  constructor(\n    public concertService: ConcertsProvider,\n    public modalCtr: ModalController,\n    private alertCtrl: AlertController,\n    private storage: Storage) {\n\n    this.updateUser();\n  }\n\n  closeIntro(user) {\n    // If user.name is null then show a warning telling \"you need to provide a name\"\n    if (user.name != null) {\n      this.user.firstTime = false;\n      this.concertService.addUser(user).then((res) => {\n        this.user._id = res;\n      });\n    }\n  }\n\n  updateUser() {\n    this.storage.get('user').then(user => {\n      this.user = user;\n    });\n    this.concertService.getUser().then((res) => {\n      this.user = res;\n      this.storage.set('user', res);\n    });\n  }\n\n  goToSlide(number) {\n    this.slides.slideTo(number, 500);\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  ionViewWillEnter() {\n    // console.log('ionViewDidLoad ConcertsPage');\n    // noinspection JSIgnoredPromiseFromCall\n    this.getConcerts();\n    this.updateUser();\n  }\n\n  doRefresh(refresher) {\n    this.updateUser();\n    this.getConcerts().then(() => {\n      refresher.complete();\n    })\n  }\n\n  getConcerts() {\n    console.log(\"Retrieving concerts\");\n    this.concertService.getConcerts().then((data) => {\n      this.concerts = data;\n      this.sortEvents();\n      this.loading = false;\n    });\n    return Promise.resolve(true);\n  }\n\n  addConcert() {\n    console.log(\"Added concert\");\n\n    let modal = this.modalCtr.create(AddConcertPage);\n    modal.onDidDismiss(concert => {\n      if (concert) {\n        this.concertService.createConcert(concert).then((id) => {\n          console.log(\"Resolved ID\", id);\n          concert._id = id;\n        });\n        this.concerts.push(concert);\n        // noinspection JSIgnoredPromiseFromCall\n        this.getConcerts();\n      }\n    });\n    modal.present();\n  }\n\n  deleteConcert(concert) {\n    console.log(\"Deleted concert\");\n\n    //Remove locally\n    let index = this.concerts.indexOf(concert);\n    if (index > -1) {\n      this.concerts.splice(index, 1);\n    }\n    //Remove from database\n    this.concertService.deleteConcert(concert._id);\n  }\n\n  presentConfirmDelete(concert) {\n    let alert = this.alertCtrl.create({\n      title: 'Slette event',\n      message: 'Er du sikker på at du vil slette denne eventen?',\n      buttons: [\n        {\n          text: 'Avbryt',\n          role: 'cancel',\n          handler: () => {\n            console.log(\"Cancelled\");\n\n          }\n        },\n        {\n          text: 'Slett Event',\n          handler: () => {\n            this.deleteConcert(concert);\n          }\n        }\n      ]\n    });\n    alert.present();\n  }\n\n  sortEvents() {\n    console.log(\"Sorting events\");\n\n    this.concerts = this.concerts.sort((a, b) => {\n        return Date.parse(a.datetime) - Date.parse(b.datetime)\n      }\n    );\n    console.log(this.concerts);\n  }\n\n  itemSelected(concert) {\n    let modal = this.modalCtr.create(ConcertDetailPage, {concert: concert});\n    modal.onDidDismiss(() => {\n        // noinspection JSIgnoredPromiseFromCall\n        this.getConcerts();\n      }\n    );\n    modal.present();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/concerts/concerts.ts","import {Component} from '@angular/core';\nimport {IonicPage, ModalController, NavController} from 'ionic-angular';\nimport {ConcertsProvider} from '../../providers/concerts/concerts';\nimport {ConcertDetailPage} from '../concert-detail/concert-detail';\n\n\n/**\n * Generated class for the TicketsPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n\n@IonicPage()\n@Component({\n  selector: 'page-tickets',\n  templateUrl: 'tickets.html',\n})\nexport class TicketsPage {\n  allConcerts: any;\n  concerts: any;\n  user: any = {};\n\n  constructor(public navCtrl: NavController,\n              public modalCtr: ModalController,\n              public concertService: ConcertsProvider,\n  ) {\n    this.updateUser();\n  }\n\n  makeUserConcerts() {\n    this.concertService.getConcerts().then(concerts => {\n      this.allConcerts = concerts;\n      console.log(this.allConcerts);\n\n      for (let concert of this.allConcerts) {\n        concert.number = 0;\n        for (let ticket_id of this.user.concerts) {\n          if (ticket_id == concert._id) {\n            concert.number += 1;\n          }\n        }\n      }\n    });\n  }\n\n\n  updateUser() {\n    this.concertService.getUser().then((res) => {\n      this.user = res;\n      this.makeUserConcerts();\n    });\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  ionViewWillEnter() {\n    this.updateUser();\n    console.log('Retrieving concerts...');\n    this.concertService.getReservedConcerts().then((data) => {\n      this.concerts = data;\n    });\n  }\n\n  itemSelected(concert) {\n    let modal = this.modalCtr.create(ConcertDetailPage, {\n      concert: concert\n    });\n    modal.onDidDismiss(() => {\n    });\n    modal.present();\n  }\n\n  goToUserAdminPage() {\n    this.navCtrl.push('UserAdminPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tickets/tickets.ts","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 114;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 114\n// module chunks = 9","var map = {\n\t\"../pages/add-concert/add-concert.module\": [\n\t\t276,\n\t\t8\n\t],\n\t\"../pages/concert-detail/concert-detail.module\": [\n\t\t275,\n\t\t7\n\t],\n\t\"../pages/concerts/concerts.module\": [\n\t\t277,\n\t\t6\n\t],\n\t\"../pages/edit-concert/edit-concert.module\": [\n\t\t274,\n\t\t5\n\t],\n\t\"../pages/edit-user/edit-user.module\": [\n\t\t279,\n\t\t3\n\t],\n\t\"../pages/mottak/mottak.module\": [\n\t\t280,\n\t\t2\n\t],\n\t\"../pages/tickets/tickets.module\": [\n\t\t278,\n\t\t4\n\t],\n\t\"../pages/user-admin/user-admin.module\": [\n\t\t281,\n\t\t1\n\t],\n\t\"../pages/user-tickets/user-tickets.module\": [\n\t\t282,\n\t\t0\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 156;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 156\n// module chunks = 9","import { Component } from '@angular/core';\n\nimport { ConcertsPage } from '../concerts/concerts';\nimport { TicketsPage } from '../tickets/tickets';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = ConcertsPage;\n  tab2Root = TicketsPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import {ErrorHandler, NgModule} from '@angular/core';\nimport {BrowserModule} from '@angular/platform-browser';\nimport {IonicApp, IonicErrorHandler, IonicModule} from 'ionic-angular';\nimport {HttpModule} from '@angular/http';\nimport {MyApp} from './app.component';\n\nimport {ConcertsPage} from '../pages/concerts/concerts';\nimport {TabsPage} from '../pages/tabs/tabs';\nimport {TicketsPage} from '../pages/tickets/tickets';\nimport {ConcertDetailPage} from '../pages/concert-detail/concert-detail';\n\nimport {IonicStorageModule} from '@ionic/storage';\n\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\nimport {ConcertsProvider} from '../providers/concerts/concerts';\n\nimport {AddConcertPage} from '../pages/add-concert/add-concert';\nimport {EditConcertPage} from '../pages/edit-concert/edit-concert';\nimport {AuthServiceProvider} from '../providers/auth-service/auth-service';\n\n\n@NgModule({\n  declarations: [\n    MyApp,\n    ConcertsPage,\n    TicketsPage,\n    TabsPage,\n    ConcertDetailPage,\n    AddConcertPage,\n    EditConcertPage\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    IonicModule.forRoot(MyApp, {}, \n{\n  links: [\n    { loadChildren: '../pages/edit-concert/edit-concert.module#EditConcertPageModule', name: 'EditConcertPage', segment: 'edit-concert', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/concert-detail/concert-detail.module#ConcertDetailPageModule', name: 'ConcertDetailPage', segment: 'concert-detail', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/add-concert/add-concert.module#AddConcertPageModule', name: 'AddConcertPage', segment: 'add-concert', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/concerts/concerts.module#ConcertsPageModule', name: 'ConcertsPage', segment: 'concerts', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/tickets/tickets.module#TicketsPageModule', name: 'TicketsPage', segment: 'tickets', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/edit-user/edit-user.module#EditUserPageModule', name: 'EditUserPage', segment: 'edit-user', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/mottak/mottak.module#MottakPageModule', name: 'MottakPage', segment: 'mottak', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user-admin/user-admin.module#UserAdminPageModule', name: 'UserAdminPage', segment: 'user-admin', priority: 'low', defaultHistory: [] },\n    { loadChildren: '../pages/user-tickets/user-tickets.module#UserTicketsPageModule', name: 'UserTicketsPage', segment: 'user-tickets', priority: 'low', defaultHistory: [] }\n  ]\n}),\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    ConcertsPage,\n    TicketsPage,\n    TabsPage,\n    ConcertDetailPage,\n    AddConcertPage,\n    EditConcertPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    {provide: ErrorHandler, useClass: IonicErrorHandler},\n    ConcertsProvider,\n    AuthServiceProvider\n  ]\n})\nexport class AppModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import {Component} from '@angular/core';\nimport {Platform} from 'ionic-angular';\nimport {StatusBar} from '@ionic-native/status-bar';\nimport {SplashScreen} from '@ionic-native/splash-screen';\n\nimport {TabsPage} from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage: any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import {Injectable} from '@angular/core';\nimport {Headers, Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\n\nlet server_url: string = \"https://infinite-citadel-36156.herokuapp.com\";\n\n@Injectable()\nexport class AuthServiceProvider {\n  constructor(public http: Http) {\n    console.log('Hello AuthService Provider');\n  }\n\n  postData(credentials, type) {\n    return new Promise((resolve, reject) => {\n      let headers = new Headers();\n\n      this.http.post(server_url + type, JSON.stringify(credentials), {headers: headers})\n        .subscribe(res => {\n          resolve(res.json());\n        }, (err) => {\n          reject(err);\n        });\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/auth-service/auth-service.ts","import {Injectable} from '@angular/core';\nimport {Headers, Http} from '@angular/http';\nimport 'rxjs/add/operator/map';\nimport {Storage} from '@ionic/storage';\n\n@Injectable()\nexport class ConcertsProvider {\n  myConcerts: any;\n  data: any;\n  user: any;\n  server_url: string;\n  production: boolean = true;\n\n  constructor(public http: Http, private storage: Storage) {\n    this.myConcerts = [];\n    if (this.production) {\n      this.server_url = \"https://infinite-citadel-36156.herokuapp.com\";\n    } else {\n      this.server_url = \"http://localhost:8080\";\n    }\n  }\n\n  addUser(user) {\n    this.storage.set('user', user);\n    console.log(\"Sending user to server: \", user);\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    return new Promise(resolve => {\n      this.http.post(this.server_url + '/api/users', JSON.stringify(user), {headers: headers})\n        .subscribe(res => {\n          console.log(\"received from server: \", res.json());\n          resolve(res.json()._id);\n          this.user = res.json();\n          this.storage.set('user_id', res.json()._id);\n        })\n    })\n  }\n\n  addNewUser(user) {\n    console.log(\"Sending user to server: \", user);\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    return new Promise(resolve => {\n      this.http.post(this.server_url + '/api/users', JSON.stringify(user), {headers: headers})\n        .subscribe(res => {\n          console.log(\"received from server: \", res.json());\n          resolve(res.json());\n        })\n    })\n  }\n\n  /**\n   * Get current user from database. Returns a empty mock-user if no user available.\n   */\n  getUser() {\n    return new Promise(resolve => {\n      this.storage.get('user_id').then((user_id) => {\n        console.log(\"Your user_id: \", user_id);\n        if (user_id) {\n          // Get user from db and return\n          this.http.get(this.server_url + '/api/users/' + user_id)\n            .map(res => res.json()) //probably don't need to use map here...\n            .subscribe(user => {\n              this.user = user;\n              console.log(\"user from server:\", user);\n              if (user == null) {\n                resolve({firstTime: true, name: null, passes: null});\n              } else {\n                resolve(user);\n              }\n            });\n        } else {\n          resolve({firstTime: true, name: null, passes: null});\n        }\n      });\n    });\n  }\n\n  getAllUsers() {\n    return new Promise(resolve => {\n      this.http.get(this.server_url + '/api/users').map(res => res.json()).subscribe(users => {\n        users.sort((a, b) => {\n          if (a.name < b.name) return -1;\n          if (a.name > b.name) return 1;\n          return 0;\n        });\n        resolve(users)\n      });\n    })\n  }\n\n  getUserByID(user_id) {\n    return new Promise(resolve => {\n      this.http.get(this.server_url + '/api/users/' + user_id)\n        .map(res => res.json()) //probably don't need to use map here...\n        .subscribe(user => {\n          resolve(user);\n        });\n    });\n  }\n\n  getConcertByID(concert_id) {\n    return new Promise(resolve => {\n      this.http.get(this.server_url + '/api/concerts/' + concert_id)\n        .map(res => res.json()) //probably don't need to use map here...\n        .subscribe(user => {\n          resolve(user);\n        });\n    });\n  }\n\n  addToMyConcerts(concert, antall) {\n    for (let i = 0; i < antall; i++) {\n      this.user.concerts.push(concert._id);\n    }\n    // Send reservation to server\n    // update the user with the reservation\n    this.updateUser(this.user._id, this.user);\n    console.log(this.user.concerts);\n  }\n\n  updateUser(id, user) {\n    return new Promise(resolve => {\n      let headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      console.log('Sending: ', user);\n\n      this.http.put(this.server_url + '/api/users/' + id, JSON.stringify(user), {headers: headers})\n        .subscribe(res => {\n          console.log(res.json());\n          resolve(res);\n        });\n    });\n  }\n\n  getReservedConcerts() {\n    this.getConcerts(); //<= just to make sure the data is up-to-date\n    let returnedConcerts: any = [];\n    return new Promise(resolve => {\n      if (this.user.concerts) {\n        this.user.concerts.forEach(concertId => {\n          console.log(concertId);\n\n          this.data.forEach(element => {\n            if (element._id == concertId) {\n              returnedConcerts.push(element);\n            }\n          });\n        });\n      }\n      console.log('returning:', returnedConcerts);\n      resolve(returnedConcerts);\n    })\n  }\n\n  getConcerts() {\n    return new Promise(resolve => {\n      this.http.get(this.server_url + '/api/concerts')\n        .map(res => res.json())\n        .subscribe(data => {\n          this.data = data;\n          resolve(data);\n        });\n    });\n  }\n\n  createConcert(concert) {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    return new Promise(resolve => {\n      this.http.post(this.server_url + '/api/concerts', JSON.stringify(concert), {headers: headers})\n        .subscribe(res => {\n          console.log(res.json());\n          resolve(res.json()._id);\n        });\n    })\n  }\n\n  updateConcert(id, concert) {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    console.log('Sending: ', concert);\n\n    this.http.put(this.server_url + '/api/concerts/' + id, JSON.stringify(concert), {headers: headers})\n      .subscribe(res => {\n        console.log(res.json());\n      });\n  }\n\n  getNumberOfReservedTickets(concert_id: string) {\n    return new Promise(resolve => {\n      this.getUsersWithTicketToConcert(concert_id).then(res => {\n        let numberOfTickets: number = 0;\n        for (let user in res) {\n          res[user].concerts.forEach(function (user_concert_id) {\n            if (user_concert_id == concert_id) {\n              numberOfTickets += 1;\n            }\n          });\n        }\n        console.log('getNumberOfReservedTickets', numberOfTickets);\n        resolve(numberOfTickets)\n      });\n    });\n  }\n\n\n  getNumberOfAvailableTickets(concert) {\n    return new Promise(resolve => {\n      this.getNumberOfReservedTickets(concert._id).then(res => {\n        const total: number = concert.totalNumberOfTickets;\n        // const reserved: any = res;\n        const sum = total - Number(res);\n        resolve(sum);\n      });\n    });\n  }\n\n  getUsersWithTicketToConcert(concert_id) {\n    let headers = new Headers();\n    headers.append('Content-Type', 'application/json');\n    return new Promise(resolve => {\n      this.http.get(this.server_url + '/api/tickets/' + concert_id).map(res => res.json()).subscribe(users => {\n        users.sort((a, b) => {\n          if (a.name < b.name) return -1;\n          if (a.name > b.name) return 1;\n          return 0;\n        });\n        resolve(users)\n      });\n    });\n  }\n\n  deleteConcert(id) {\n    this.http.delete(this.server_url + '/api/concerts/' + id)\n      .subscribe((res) => {\n        console.log(res.json());\n      });\n  }\n\n  deleteUser(id) {\n    this.http.delete(this.server_url + '/api/users/' + id)\n      .subscribe((res) => {\n        console.log(res.json());\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/concerts/concerts.ts","import {Component} from '@angular/core';\nimport {AlertController, IonicPage, ModalController, NavController, NavParams, ViewController} from 'ionic-angular';\nimport {EditConcertPage} from '../edit-concert/edit-concert';\nimport {ConcertsProvider} from '../../providers/concerts/concerts';\n\n@IonicPage()\n@Component({\n  selector: 'page-concert-detail',\n  templateUrl: 'concert-detail.html',\n})\nexport class ConcertDetailPage {\n  concert: any;\n  concertDateTime: any;\n  user: any = {};\n  tilgjengeligebilletter: any;\n\n\n  constructor(public alertCtrl: AlertController, public navCtrl: NavController, public modalCtr: ModalController, public navParams: NavParams, public concertService: ConcertsProvider, public viewCtrl: ViewController) {\n    this.concert = navParams.get('concert');\n    const options = {\n      weekday: 'long',\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    };\n    this.concertDateTime = new Date(this.concert.datetime).toLocaleString('NO', options);\n    concertService.getUser().then((res) => {\n      this.user = res;\n    })\n  }\n\n  // noinspection JSUnusedGlobalSymbols\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad ConcertDetailPage');\n    console.log(this.concert);\n\n    this.updateAvailableTickets();\n  }\n\n  edit(concert) {\n    console.log(\"editing concert\");\n\n    let modal = this.modalCtr.create(EditConcertPage, {\n      concert: concert\n    });\n    modal.onDidDismiss((concert) => {\n      if (concert) {\n        this.concert = concert;\n        this.concertService.updateConcert(concert._id, concert);\n      }\n    });\n    modal.present();\n  }\n\n  close(): void {\n    this.viewCtrl.dismiss(this.concert);\n  }\n\n  reserveConcert(concert) {\n    this.concert = concert;\n    let prompt = this.alertCtrl.create({\n      title: 'Reserver',\n      message: \"Hvor mange billetter vil du reservere?\",\n      inputs: [\n        {\n          name: 'antall',\n          placeholder: \"Antall billetter\",\n          type: 'number'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Avbryt',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        },\n        {\n          text: 'Reserver',\n          handler: data => {\n            console.log('Saved clicked');\n            this.showConfirm(data);\n          }\n        }\n      ]\n    });\n    prompt.present();\n  }\n\n  showConfirm(data) {\n    if (data.antall <= this.tilgjengeligebilletter) {\n      let confirm = this.alertCtrl.create({\n        title: 'Godtar du betingelsene?',\n        message: \"Du reserverer nå \" + data.antall + \" billetter på navnet \" + this.user.name + '. '\n          + 'Dette er en bindende billettreservasjon.',\n        buttons: [\n          {\n            text: 'Avbryt',\n            handler: () => {\n              console.log('Disagree clicked');\n            }\n          },\n          {\n            text: 'Jeg godtar',\n            handler: () => {\n              console.log('Agree clicked');\n              this.concertService.addToMyConcerts(this.concert, data.antall);\n              this.tilgjengeligebilletter -= data.antall;\n            }\n          }\n        ]\n      });\n      confirm.present();\n    } else if (!data.antall) {\n      let confirm = this.alertCtrl.create({\n        title: 'Feil',\n        message: 'Du har ikke fyllt inn hvor mange billetter du vil reservere.',\n        buttons: [{text: 'OK'}]\n      });\n      confirm.present();\n    } else {\n      let confirm = this.alertCtrl.create({\n        title: 'Ikke nok billetter',\n        message: \"Det er desverre bare \" + this.tilgjengeligebilletter + \" billett(er) igjen.\",\n        buttons: [{text: 'OK'}]\n      });\n      confirm.present();\n    }\n    this.updateAvailableTickets();\n  }\n\n  private updateAvailableTickets() {\n    this.concertService.getNumberOfAvailableTickets(this.concert).then(n => {\n      this.tilgjengeligebilletter = n;\n    });\n  }\n\n  goToMottak() {\n    this.navCtrl.push('MottakPage', {'concert': this.concert});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/concert-detail/concert-detail.ts"],"sourceRoot":""}